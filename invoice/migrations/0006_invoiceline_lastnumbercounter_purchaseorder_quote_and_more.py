# Generated by Django 4.2.7 on 2023-11-30 22:34

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('invoice', '0005_remove_invoice_title_client_balance_client_erf_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='InvoiceLine',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity_sold', models.PositiveIntegerField()),
                ('unit_price', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('serial_numbers', models.CharField(blank=True, max_length=255, null=True)),
                ('sale_tax', models.DecimalField(decimal_places=2, max_digits=10)),
                ('sale_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('line_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('uniqueId', models.CharField(blank=True, max_length=100, null=True)),
                ('slug', models.SlugField(blank=True, max_length=500, null=True, unique=True)),
                ('date_created', models.DateTimeField(blank=True, null=True)),
                ('last_updated', models.DateTimeField(blank=True, null=True)),
                ('invoice', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='invoice.invoice')),
            ],
        ),
        migrations.CreateModel(
            name='LastNumberCounter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('last_serial_number', models.PositiveIntegerField(default=1)),
                ('last_invoice_number', models.PositiveIntegerField(default=1)),
                ('last_supplier_invoice_number', models.PositiveIntegerField(default=1)),
                ('last_quote_number', models.PositiveIntegerField(default=1)),
                ('last_job_number', models.PositiveIntegerField(default=1)),
                ('past_purchase_order_number', models.PositiveIntegerField(default=1)),
            ],
            options={
                'verbose_name': 'last_number_counter',
                'verbose_name_plural': 'last_number_counters',
            },
        ),
        migrations.CreateModel(
            name='PurchaseOrder',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('po_number', models.CharField(blank=True, max_length=50, null=True, unique=True)),
                ('customer', models.CharField(blank=True, max_length=255, null=True)),
                ('tax_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('po_excl_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('po_incl_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('status', models.CharField(choices=[('unapproved', 'Unapproved'), ('approved', 'Approved')], default='Unapproved', max_length=20)),
                ('uniqueId', models.CharField(blank=True, max_length=100, null=True)),
                ('slug', models.SlugField(blank=True, max_length=500, null=True, unique=True)),
                ('date_created', models.DateTimeField(blank=True, null=True)),
                ('date_updated', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'purchase_order',
                'verbose_name_plural': 'purchase_orders',
            },
        ),
        migrations.CreateModel(
            name='Quote',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(blank=True, max_length=255, null=True)),
                ('email', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line1', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line2', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line3', models.CharField(blank=True, max_length=255, null=True)),
                ('postal_code', models.CharField(blank=True, max_length=10, null=True)),
                ('quote_number', models.CharField(blank=True, max_length=50, null=True, unique=True)),
                ('scope', models.CharField(blank=True, max_length=1000, null=True)),
                ('quote_date', models.DateTimeField(auto_now_add=True)),
                ('tax_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('quote_excl_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('quote_incl_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('sent', 'Sent'), ('accepted', 'Accepted'), ('cancelled', 'Cancelled')], default='Draft', max_length=20)),
                ('uniqueId', models.CharField(blank=True, max_length=100, null=True)),
                ('slug', models.SlugField(blank=True, max_length=500, null=True, unique=True)),
                ('date_created', models.DateTimeField(blank=True, null=True)),
                ('date_updated', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'quote',
                'verbose_name_plural': 'quotes',
            },
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(blank=True, max_length=255, null=True)),
                ('account_number', models.CharField(blank=True, max_length=255, null=True)),
                ('telephone', models.CharField(blank=True, max_length=255, null=True)),
                ('email', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line1', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line2', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line3', models.CharField(blank=True, max_length=255, null=True)),
                ('postal_code', models.CharField(blank=True, max_length=10, null=True)),
                ('uniqueId', models.CharField(blank=True, max_length=100, null=True)),
                ('slug', models.SlugField(blank=True, max_length=500, null=True, unique=True)),
                ('date_created', models.DateTimeField(blank=True, null=True)),
                ('date_updated', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'supplier',
                'verbose_name_plural': 'suppliers',
            },
        ),
        migrations.CreateModel(
            name='SupplierInvoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('invoice_number', models.CharField(max_length=20)),
                ('due_date', models.DateTimeField(blank=True, null=True)),
                ('payment_terms', models.CharField(choices=[('cash', 'Cash'), ('7_days', '7 Days'), ('14_days', '14 Days'), ('30_days', '30 Days'), ('60_days', '60 Days'), ('90_days', '90 Days')], default='Cash', max_length=20)),
                ('reference', models.CharField(blank=True, default='', max_length=255, null=True)),
                ('notes', models.CharField(blank=True, max_length=255, null=True)),
                ('status', models.CharField(choices=[('current', 'Current'), ('overdue', 'Overdue'), ('paid', 'Paid'), ('credited', 'Credited')], default='Due', max_length=12)),
                ('tax_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('invoice_excl_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('invoice_incl_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('uniqueId', models.CharField(blank=True, max_length=100, null=True)),
                ('slug', models.SlugField(blank=True, max_length=500, null=True, unique=True)),
                ('date_created', models.DateTimeField(blank=True, null=True)),
                ('date_updated', models.DateTimeField(blank=True, null=True)),
                ('supplier', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='supplier_invoices', to='invoice.supplier')),
            ],
            options={
                'verbose_name': 'supplier_invoice',
                'verbose_name_plural': 'supplier_invoices',
            },
        ),
        migrations.CreateModel(
            name='TaxRate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(blank=True, max_length=255, null=True)),
                ('description', models.CharField(blank=True, max_length=255, null=True)),
                ('rate', models.DecimalField(decimal_places=2, max_digits=10)),
                ('uniqueId', models.CharField(blank=True, max_length=100, null=True)),
                ('slug', models.SlugField(blank=True, max_length=500, null=True, unique=True)),
                ('date_created', models.DateTimeField(blank=True, null=True)),
                ('date_updated', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'tax_rate',
                'verbose_name_plural': 'tax_rates',
            },
        ),
        migrations.AlterModelOptions(
            name='product',
            options={'verbose_name': 'product', 'verbose_name_plural': 'products'},
        ),
        migrations.AlterModelOptions(
            name='settings',
            options={'verbose_name_plural': 'Settings'},
        ),
        migrations.RenameField(
            model_name='product',
            old_name='title',
            new_name='code',
        ),
        migrations.RenameField(
            model_name='settings',
            old_name='last_updated',
            new_name='date_updated',
        ),
        migrations.RemoveField(
            model_name='product',
            name='currency',
        ),
        migrations.RemoveField(
            model_name='product',
            name='invoice',
        ),
        migrations.RemoveField(
            model_name='product',
            name='price',
        ),
        migrations.RemoveField(
            model_name='product',
            name='quantity',
        ),
        migrations.AddField(
            model_name='product',
            name='active',
            field=models.BooleanField(default=True),
        ),
        migrations.AddField(
            model_name='product',
            name='category',
            field=models.CharField(choices=[('Stock', (('mounting_structures', 'Mounting Structures'), ('inverter', 'Inverter'), ('battery', 'Battery'))), ('Office', (('stationery', 'Stationery'), ('cleaning', 'Cleaning Material'), ('supplies', 'Supplies'))), ('Consumables', (('packaging', 'Packaging'), ('general', 'General'))), ('Unknown', 'Unknown')], default='Unknown', max_length=20),
        ),
        migrations.AddField(
            model_name='product',
            name='notes',
            field=models.CharField(blank=True, default='', max_length=255, null=True),
        ),
        migrations.AddField(
            model_name='product',
            name='quantity_on_hand',
            field=models.PositiveIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='product',
            name='selling_price',
            field=models.DecimalField(decimal_places=2, default=0.0, max_digits=10),
        ),
        migrations.AddField(
            model_name='product',
            name='stack',
            field=models.JSONField(default=list),
        ),
        migrations.AddField(
            model_name='product',
            name='status',
            field=models.CharField(blank=True, default='In Stock', max_length=20, null=True),
        ),
        migrations.AddField(
            model_name='product',
            name='unit_of_measure',
            field=models.CharField(blank=True, default='ea', max_length=5, null=True),
        ),
        migrations.AddField(
            model_name='settings',
            name='balance',
            field=models.DecimalField(decimal_places=2, default=0.0, max_digits=10),
        ),
        migrations.AddField(
            model_name='settings',
            name='erf',
            field=models.CharField(blank=True, default='', max_length=50, null=True),
        ),
        migrations.AlterField(
            model_name='product',
            name='description',
            field=models.CharField(blank=True, default='', max_length=255, null=True),
        ),
        migrations.AlterField(
            model_name='settings',
            name='province',
            field=models.CharField(blank=True, max_length=100),
        ),
        migrations.CreateModel(
            name='SupplierInvoiceLine',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unit_price', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('quantity_bought', models.PositiveIntegerField()),
                ('part_number', models.CharField(blank=True, max_length=255, null=True)),
                ('serial_numbers', models.CharField(blank=True, max_length=255, null=True)),
                ('sale_tax', models.DecimalField(decimal_places=2, max_digits=10)),
                ('sale_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('line_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='supplier_invoice_lines', to='invoice.supplierinvoice')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='supplier_invoice_lines', to='invoice.product')),
                ('tax_rate', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='supplier_invoice_lines', to='invoice.taxrate')),
            ],
            options={
                'verbose_name': 'supplier_invoice_line',
                'verbose_name_plural': 'supplier_invoice_lines',
            },
        ),
        migrations.CreateModel(
            name='SerialNumber',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('serial_number', models.CharField(blank=True, max_length=100, null=True)),
                ('sold', models.BooleanField()),
                ('customer', models.CharField(blank=True, max_length=100, null=True)),
                ('invoice', models.CharField(blank=True, max_length=20, null=True)),
                ('created_by', models.CharField(blank=True, max_length=255, null=True)),
                ('updated_by', models.CharField(blank=True, max_length=255, null=True)),
                ('uniqueId', models.CharField(blank=True, max_length=100, null=True)),
                ('slug', models.SlugField(blank=True, max_length=500, null=True, unique=True)),
                ('date_created', models.DateTimeField(blank=True, null=True)),
                ('date_updated', models.DateTimeField(blank=True, null=True)),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='serial_numbers', to='invoice.product')),
            ],
            options={
                'verbose_name': 'serial_number',
                'verbose_name_plural': 'serial_numbers',
            },
        ),
        migrations.CreateModel(
            name='Sale',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity_sold', models.PositiveIntegerField()),
                ('sale_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('cost_of_goods_sold', models.DecimalField(decimal_places=2, max_digits=10)),
                ('sale_date', models.DateTimeField()),
                ('serial_numbers', models.JSONField(default=list)),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='sales', to='invoice.invoice')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='sales', to='invoice.product')),
            ],
            options={
                'verbose_name': 'sale',
                'verbose_name_plural': 'sales',
            },
        ),
        migrations.CreateModel(
            name='QuoteLine',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.PositiveIntegerField()),
                ('sale_tax', models.DecimalField(decimal_places=2, max_digits=10)),
                ('sale_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('line_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='quote_lines', to='invoice.product')),
                ('quote', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='quote_lines', to='invoice.quote')),
                ('tax_rate', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='quote_lines', to='invoice.taxrate')),
            ],
            options={
                'verbose_name': 'quote_line',
                'verbose_name_plural': 'quote_lines',
            },
        ),
        migrations.CreateModel(
            name='PurchaseOrderLine',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reserved', models.BooleanField(default=False)),
                ('reference', models.CharField(blank=True, max_length=100, null=True)),
                ('quantity', models.PositiveIntegerField()),
                ('sale_tax', models.DecimalField(decimal_places=2, max_digits=10)),
                ('sale_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('line_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('po_number', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='po_lines', to='invoice.purchaseorder')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='po_lines', to='invoice.product')),
                ('tax_rate', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='po_lines', to='invoice.taxrate')),
            ],
            options={
                'verbose_name': 'purhase_order_line',
                'verbose_name_plural': 'purchase_order_lines',
            },
        ),
        migrations.AddField(
            model_name='purchaseorder',
            name='supplier',
            field=models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='purchase_orders', to='invoice.supplier'),
        ),
        migrations.CreateModel(
            name='OutputTax',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tax_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tax_date', models.DateTimeField(auto_now_add=True)),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='output_taxes', to='invoice.invoiceline')),
                ('tax_rate', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='output_taxes', to='invoice.taxrate')),
            ],
            options={
                'verbose_name': 'output_tax',
                'verbose_name_plural': 'output_taxes',
            },
        ),
        migrations.CreateModel(
            name='Lead',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(blank=True, max_length=255, null=True)),
                ('email', models.EmailField(max_length=150)),
                ('address_line1', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line2', models.CharField(blank=True, max_length=255, null=True)),
                ('address_line3', models.CharField(blank=True, max_length=255, null=True)),
                ('postal_code', models.CharField(blank=True, max_length=10, null=True)),
                ('details', models.CharField(blank=True, max_length=255, null=True)),
                ('date', models.DateTimeField(auto_now_add=True)),
                ('phase', models.CharField(choices=[('single_phase', 'Single Phase'), ('three_phase', 'Three Phase')], default='Single Phase', max_length=20)),
                ('status', models.CharField(choices=[('new', 'New'), ('contacted', 'Contacted'), ('quoted', 'Quoted'), ('cancelled', 'Cancelled')], default='New', max_length=20)),
                ('uniqueId', models.CharField(blank=True, max_length=100, null=True)),
                ('slug', models.SlugField(blank=True, max_length=500, null=True, unique=True)),
                ('date_created', models.DateTimeField(blank=True, null=True)),
                ('date_updated', models.DateTimeField(blank=True, null=True)),
                ('agent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='leads', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'lead',
                'verbose_name_plural': 'leads',
            },
        ),
        migrations.AddField(
            model_name='invoiceline',
            name='product',
            field=models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='invoice_lines', to='invoice.product'),
        ),
        migrations.AddField(
            model_name='invoiceline',
            name='tax_rate',
            field=models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='invoice_lines', to='invoice.taxrate'),
        ),
        migrations.CreateModel(
            name='InputTax',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tax_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tax_date', models.DateTimeField(auto_now_add=True)),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='input_taxes', to='invoice.supplierinvoiceline')),
                ('tax_rate', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='input_taxes', to='invoice.taxrate')),
            ],
            options={
                'verbose_name': 'input_tax',
                'verbose_name_plural': 'input_taxes',
            },
        ),
    ]
